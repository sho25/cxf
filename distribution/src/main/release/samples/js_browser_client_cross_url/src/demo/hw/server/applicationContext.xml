<beans xmlns="http://www.springframework.org/schema/beans"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:jaxws="http://cxf.apache.org/jaxws"
      xmlns:cxf="http://cxf.apache.org/core"
      xmlns:httpj="http://cxf.apache.org/transports/http-jetty/configuration"

      xsi:schemaLocation="
http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-2.0.xsd
http://cxf.apache.org/core http://cxf.apache.org/schemas/core.xsd
http://cxf.apache.org/jaxws http://cxf.apache.org/schemas/jaxws.xsd
http://cxf.apache.org/transports/http-jetty/configuration http://cxf.apache.org/schemas/configuration/http-jetty.xsd
">

<!--  standard CXF support files. -->
 <import resource="classpath:META-INF/cxf/cxf.xml" />
 <import resource="classpath:META-INF/cxf/cxf-extension-soap.xml" />
 <import resource="classpath:META-INF/cxf/cxf-extension-http.xml" />
 <import resource="classpath:META-INF/cxf/cxf-extension-http-jetty.xml" />
 <import resource="classpath:META-INF/cxf/cxf-extension-javascript-client.xml"/>
 
<httpj:engine-factory bus="cxf">
 <!-- The static content runs on port 9001 -->
 <httpj:engine port="9001">
  <httpj:handlers>
    <bean class="org.mortbay.jetty.handler.ContextHandler">
     <property name="contextPath" value="/" />
     <property name="handler">
      <bean class="org.mortbay.jetty.handler.ResourceHandler">
       <property name="baseResource">
        <bean class="org.mortbay.resource.FileResource">
         <constructor-arg value="file:staticContent" />
        </bean>
        </property>
      </bean>
     </property>
    </bean>
    <bean class="org.mortbay.jetty.handler.DefaultHandler"/>
  </httpj:handlers>
 </httpj:engine>
</httpj:engine-factory>

 <jaxws:endpoint
        id="hello_world"
        implementor="demo.hw.server.GreeterImpl"
        address="http://localhost:9000/hello_world">
                <jaxws:features>
 		    <bean class="org.apache.cxf.feature.LoggingFeature"/>
                </jaxws:features>
    </jaxws:endpoint>
    <!--  to force the server to start on 9001, we have an extra copy of the endpoint... -->
    
     <jaxws:endpoint
        id="hello_world_9001"
        implementor="demo.hw.server.GreeterImpl"
        address="http://localhost:9001/hello_world_9001">
                <jaxws:features>
 		    <bean class="org.apache.cxf.feature.LoggingFeature"/>
                </jaxws:features>
    </jaxws:endpoint>
    
</beans>
